<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alex Takamizawa">

<title>AMS380 Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="notebook_files/libs/clipboard/clipboard.min.js"></script>
<script src="notebook_files/libs/quarto-html/quarto.js"></script>
<script src="notebook_files/libs/quarto-html/popper.min.js"></script>
<script src="notebook_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="notebook_files/libs/quarto-html/anchor.min.js"></script>
<link href="notebook_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="notebook_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="notebook_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="notebook_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="notebook_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">AMS380 Project</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Alex Takamizawa </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<section id="environment-setup" class="level2">
<h2 class="anchored" data-anchor-id="environment-setup">Environment Setup</h2>
<section id="loading-packages" class="level3">
<h3 class="anchored" data-anchor-id="loading-packages">Loading Packages</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"caret"</span>, <span class="st">"hydroTSM"</span>, <span class="st">"MASS"</span>, <span class="st">"nnet"</span>, <span class="st">"tidyverse"</span>))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hydroTSM)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nnet)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="setting-seed" class="level3">
<h3 class="anchored" data-anchor-id="setting-seed">Setting Seed</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="loading-and-preparing-data" class="level3">
<h3 class="anchored" data-anchor-id="loading-and-preparing-data">Loading and Preparing Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>bird_collisions <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/bird_collisions.csv"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"genus"</span>, <span class="st">"species"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">subset</span>(family <span class="sc">!=</span> <span class="st">"Laniidae"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>bird_collisions<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">time2season</span>(</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.Date</span>(bird_collisions<span class="sc">$</span>date), </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">out.fmt =</span> <span class="st">"seasons"</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>bird_collisions<span class="sc">$</span>family <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  bird_collisions<span class="sc">$</span>family <span class="sc">==</span> <span class="st">"Icteriidae"</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Icteridae"</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  bird_collisions<span class="sc">$</span>family</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="multinomial-logistic-regression" class="level2">
<h2 class="anchored" data-anchor-id="multinomial-logistic-regression">Multinomial Logistic Regression</h2>
<section id="partitioning-data" class="level3">
<h3 class="anchored" data-anchor-id="partitioning-data">Partitioning Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>train_idx <span class="ot">&lt;-</span> bird_collisions<span class="sc">$</span>family <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">createDataPartition</span>(<span class="at">p =</span> <span class="fl">0.80</span>, <span class="at">list =</span> <span class="cn">FALSE</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> bird_collisions[train_idx, ]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> bird_collisions[<span class="sc">-</span>train_idx, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="fitting-the-model" class="level3">
<h3 class="anchored" data-anchor-id="fitting-the-model">Fitting the Model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>model_multinom <span class="ot">&lt;-</span> nnet<span class="sc">::</span><span class="fu">multinom</span>(family <span class="sc">~</span> ., <span class="at">data =</span> train) <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stepAIC</span>(<span class="at">direction =</span> <span class="st">"backward"</span>, <span class="at">trace =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-coefficients" class="level3">
<h3 class="anchored" data-anchor-id="model-coefficients">Model Coefficients</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model_multinom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evaluating-the-model" class="level3">
<h3 class="anchored" data-anchor-id="evaluating-the-model">Evaluating the Model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>pred_classes <span class="ot">&lt;-</span> model_multinom <span class="sc">%&gt;%</span> <span class="fu">predict</span>(test)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(pred_classes <span class="sc">==</span> test<span class="sc">$</span>family)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="generating-count-data" class="level2">
<h2 class="anchored" data-anchor-id="generating-count-data">Generating Count Data</h2>
<section id="generating-data" class="level3">
<h3 class="anchored" data-anchor-id="generating-data">Generating Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>counts <span class="ot">&lt;-</span> bird_collisions <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(date, family, habitat, stratum, locality, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(counts)[<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="st">"collisions"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="preparing-count-data" class="level3">
<h3 class="anchored" data-anchor-id="preparing-count-data">Preparing Count Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>counts<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(counts<span class="sc">$</span>date)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>counts<span class="sc">$</span>stratum <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(counts<span class="sc">$</span>stratum)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>counts<span class="sc">$</span>family <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(counts<span class="sc">$</span>family)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>counts<span class="sc">$</span>habitat <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(counts<span class="sc">$</span>habitat)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>counts<span class="sc">$</span>collisions <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(counts<span class="sc">$</span>collisions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualizing-count-data" class="level3">
<h3 class="anchored" data-anchor-id="visualizing-count-data">Visualizing Count Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(counts, <span class="fu">aes</span>(family, collisions)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> family))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(counts, <span class="fu">aes</span>(<span class="at">x =</span> family)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(counts, <span class="fu">aes</span>(collisions, <span class="at">fill =</span> habitat)) <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(habitat <span class="sc">~</span> ., <span class="at">margins =</span> <span class="cn">TRUE</span>, <span class="at">scales =</span> <span class="st">"free_y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="determining-model" class="level3">
<h3 class="anchored" data-anchor-id="determining-model">Determining Model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(counts<span class="sc">$</span>collisions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 524.015</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(counts<span class="sc">$</span>collisions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1313378</code></pre>
</div>
</div>
<p>interpretation</p>
</section>
</section>
<section id="negative-binomial-regression" class="level2">
<h2 class="anchored" data-anchor-id="negative-binomial-regression">Negative Binomial Regression</h2>
<section id="fitting-the-model-1" class="level3">
<h3 class="anchored" data-anchor-id="fitting-the-model-1">Fitting the Model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>model_neg_binom <span class="ot">&lt;-</span> <span class="fu">glm.nb</span>(collisions <span class="sc">~</span> ., <span class="at">data =</span> counts)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_neg_binom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm.nb(formula = collisions ~ ., data = counts, init.theta = 1.206671282, 
    link = log)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.8419  -1.0100  -0.2656   0.2876   2.2868  

Coefficients:
                    Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)          3.96991    0.44546   8.912  &lt; 2e-16 ***
datespring          -0.01317    0.18637  -0.071  0.94365    
datesummer          -2.49651    0.22029 -11.333  &lt; 2e-16 ***
familyCerthiidae     1.14403    0.50201   2.279  0.02267 *  
familyIcteridae     -1.71964    0.42898  -4.009 6.11e-05 ***
familyMimidae        1.29767    0.59128   2.195  0.02819 *  
familyParulidae      2.67650    0.36108   7.412 1.24e-13 ***
familyPasserellidae  4.03633    0.46165   8.743  &lt; 2e-16 ***
familyPolioptilidae -3.93401    0.82779  -4.752 2.01e-06 ***
familyRegulidae      0.76482    0.54382   1.406  0.15961    
familySittidae      -0.95158    0.51790  -1.837  0.06615 .  
familyTroglodytidae  0.21069    0.47966   0.439  0.66049    
familyTurdidae       3.38889    0.56052   6.046 1.48e-09 ***
familyTyrannidae    -0.62708    0.35806  -1.751  0.07989 .  
familyVireonidae    -1.37002    0.49034  -2.794  0.00521 ** 
habitatForest        0.32510    0.22474   1.447  0.14802    
habitatOpen         -0.36105    0.25345  -1.425  0.15429    
stratumUpper         0.89990    0.30511   2.949  0.00318 ** 
localityMP          -0.37317    0.16258  -2.295  0.02172 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for Negative Binomial(1.2067) family taken to be 1)

    Null deviance: 654.15  on 132  degrees of freedom
Residual deviance: 147.94  on 114  degrees of freedom
AIC: 1548.9

Number of Fisher Scoring iterations: 1

              Theta:  1.207 
          Std. Err.:  0.143 

 2 x log-likelihood:  -1508.911 </code></pre>
</div>
</div>
</section>
<section id="plotting-residuals" class="level3">
<h3 class="anchored" data-anchor-id="plotting-residuals">Plotting Residuals</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fitted</span>(model_neg_binom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          1           2           3           4           5           6 
2038.363949 2065.391895 4151.997326 2999.620735 2173.089976 2621.279840 
          7           8           9          10          11          12 
1420.621989 2858.861964 1496.283304 1439.458907 1065.835888  566.201284 
         13          14          15          16          17          18 
1804.884889 1893.750102 1476.702775 4097.663831 2821.450581 1051.888242 
         19          20          21          22          23          24 
 733.882381  724.278715  387.508026 1303.943551 2144.652681 2960.367367 
         25          26          27          28          29          30 
2586.977482  770.015773  364.679883 2090.562471 1781.265966  530.195140 
         31          32          33          34          35          36 
 558.791912 1286.880001  536.656537   88.541621 2063.205140 1868.968279 
         37          38          39          40          41          42 
 131.793808  155.991933   90.531491  369.515402   87.795005  529.633791 
         43          44          45          46          47          48 
 382.437054  523.256948  215.919993   69.639353  191.407471  128.591230 
         49          50          51          52          53          54 
 177.992649  389.858468  107.408403  266.819044  193.945463  122.557019 
         55          56          57          58          59          60 
 179.001709   60.451340   62.335550  180.352766  759.939262   45.828200 
         61          62          63          64          65          66 
 123.251808   63.427719  384.756737  124.182079   32.961646   47.294658 
         67          68          69          70          71          72 
  65.464040  148.671930  133.541345   89.715650   47.871030   45.228488 
         73          74          75          76          77          78 
 263.327421   23.034550   31.386427   45.583300   64.548807   68.687224 
         79          80          81          82          83          84 
  43.673220   44.445146   30.975701   95.075076  130.296302   89.346786 
         85          86          87          88          89          90 
  47.950247   69.597991   15.860463   96.335737   61.519820    3.995517 
         91          92          93          94          95          96 
  65.404700   44.986792   48.505782   66.332069   31.142121   33.398705 
         97          98          99         100         101         102 
  47.921767    6.449007   68.728045    1.922560    7.935365   31.555054 
        103         104         105         106         107         108 
   2.751117   30.437713  170.130406    6.527599    5.732924    3.774959 
        109         110         111         112         113         114 
   4.494585  247.084679   45.034472    3.482447    7.390055    5.736331 
        115         116         117         118         119         120 
   9.366055   44.205458    5.463903   16.070767    2.397842   10.732763 
        121         122         123         124         125         126 
  14.856013    9.490245   23.339980    6.614153    4.554182   10.229123 
        127         128         129         130         131         132 
  46.639117    1.323781   15.975670  118.571070    3.949756    3.947411 
        133 
   2.599252 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"</span><span class="sc">\n\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\n\n\n"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>model_neg_binom<span class="sc">$</span>fitted.values</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          1           2           3           4           5           6 
2038.363949 2065.391895 4151.997326 2999.620735 2173.089976 2621.279840 
          7           8           9          10          11          12 
1420.621989 2858.861964 1496.283304 1439.458907 1065.835888  566.201284 
         13          14          15          16          17          18 
1804.884889 1893.750102 1476.702775 4097.663831 2821.450581 1051.888242 
         19          20          21          22          23          24 
 733.882381  724.278715  387.508026 1303.943551 2144.652681 2960.367367 
         25          26          27          28          29          30 
2586.977482  770.015773  364.679883 2090.562471 1781.265966  530.195140 
         31          32          33          34          35          36 
 558.791912 1286.880001  536.656537   88.541621 2063.205140 1868.968279 
         37          38          39          40          41          42 
 131.793808  155.991933   90.531491  369.515402   87.795005  529.633791 
         43          44          45          46          47          48 
 382.437054  523.256948  215.919993   69.639353  191.407471  128.591230 
         49          50          51          52          53          54 
 177.992649  389.858468  107.408403  266.819044  193.945463  122.557019 
         55          56          57          58          59          60 
 179.001709   60.451340   62.335550  180.352766  759.939262   45.828200 
         61          62          63          64          65          66 
 123.251808   63.427719  384.756737  124.182079   32.961646   47.294658 
         67          68          69          70          71          72 
  65.464040  148.671930  133.541345   89.715650   47.871030   45.228488 
         73          74          75          76          77          78 
 263.327421   23.034550   31.386427   45.583300   64.548807   68.687224 
         79          80          81          82          83          84 
  43.673220   44.445146   30.975701   95.075076  130.296302   89.346786 
         85          86          87          88          89          90 
  47.950247   69.597991   15.860463   96.335737   61.519820    3.995517 
         91          92          93          94          95          96 
  65.404700   44.986792   48.505782   66.332069   31.142121   33.398705 
         97          98          99         100         101         102 
  47.921767    6.449007   68.728045    1.922560    7.935365   31.555054 
        103         104         105         106         107         108 
   2.751117   30.437713  170.130406    6.527599    5.732924    3.774959 
        109         110         111         112         113         114 
   4.494585  247.084679   45.034472    3.482447    7.390055    5.736331 
        115         116         117         118         119         120 
   9.366055   44.205458    5.463903   16.070767    2.397842   10.732763 
        121         122         123         124         125         126 
  14.856013    9.490245   23.339980    6.614153    4.554182   10.229123 
        127         128         129         130         131         132 
  46.639117    1.323781   15.975670  118.571070    3.949756    3.947411 
        133 
   2.599252 </code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>